{"root":{"data":{"id":"d5anlti1ddc0","created":1730445137109,"text":"业务层","expandState":"expand"},"children":[{"data":{"id":"d5anriswl4g0","created":1730445584006,"text":"Schedule","layout_mind_offset":{"x":-71,"y":-3},"expandState":"expand","layout":null},"children":[{"data":{"id":"d5anm14wxug0","created":1730445153729,"text":"MainCanvas","layout":null,"expandState":"expand"},"children":[{"data":{"id":"d5anm6b4udk0","created":1730445164989,"text":"TitleLayer","layout":null,"expandState":"expand"},"children":[]},{"data":{"id":"d5ann8h9r4w0","created":1730445248078,"text":"DateLayer","layout":null,"expandState":"expand"},"children":[]},{"data":{"id":"d5annbh3e140","created":1730445254598,"text":"ResourceLayer","layout":null,"expandState":"expand"},"children":[]},{"data":{"id":"d5annjumobc0","created":1730445272831,"text":"PlanLayer","layout":null,"expandState":"expand"},"children":[]},{"data":{"id":"d5anqsa34js0","created":1730445526272,"text":"ScrollbarComp","layout":null,"expandState":"expand"},"children":[{"data":{"id":"d5anqx8pr480","created":1730445537073,"text":"横向","layout":null,"expandState":"expand"},"children":[]},{"data":{"id":"d5anr7r925c0","created":1730445559962,"text":"纵向","layout":null,"expandState":"expand"},"children":[]}]},{"data":{"id":"d5annua5d280","created":1730445295537,"text":"AuxiliaryLayer\n（打算往上提一层）","layout":null,"color":"#ff0000","expandState":"expand"},"children":[]}]},{"data":{"id":"d5anxvibgag0","created":1730446081849,"text":"DataStore\n（正在把属性拆分到具体使用的类里面）","layout":null,"expandState":"expand","color":"#ff0000"},"children":[]},{"data":{"id":"d5anmwfzhy00","created":1730445221879,"text":"InteractionPanel","layout":null,"expandState":"expand"},"children":[{"data":{"id":"d5duv7xsufk0","created":1730770301454,"text":"pointerdown","expandState":"expand","layout":null,"resource":[]},"children":[{"data":{"id":"d5e0m69h1aw0","created":1730786519188,"text":"有命中结果","expandState":"expand","layout":null},"children":[{"data":{"id":"d5dv3nqf78o0","created":1730770962749,"text":"按着Ctrl","layout":null,"expandState":"expand"},"children":[{"data":{"id":"d5e0w2mydow0","created":1730787294937,"text":"。。。","layout":null},"children":[]}]},{"data":{"id":"d5dv3ahvfw00","created":1730770933934,"text":"没按Ctrl","resource":[],"layout":null},"children":[{"data":{"id":"d5e0ohb967c0","created":1730786699968,"text":"_checkChangeBlockSizeAction\n判断是否触发改变块大小的行为","layout":null},"children":[{"data":{"id":"d5e0oto3o140","created":1730786726867,"text":"Y：\n标记是_changeSizeAction","layout":null,"expandState":"collapse"},"children":[{"data":{"id":"d5e0w3tnra00","created":1730787297520,"text":"。。。","layout":null},"children":[]}]},{"data":{"id":"d5eqljecsi80","created":1730859818275,"text":"N","expandState":"expand"},"children":[{"data":{"id":"d5eqly2xyvs0","created":1730859850236,"text":"1. 记录到鼠标上下文和数据仓库"},"children":[]},{"data":{"id":"d5eqrqg6s7k0","created":1730860303808,"text":"2. 画布重绘，清除辅助线层的内容，按下的块 高亮显示"},"children":[]},{"data":{"id":"d5e0pg2sa5c0","created":1730786775644,"text":"3.当前是否允许移动块","layout":null},"children":[{"data":{"id":"d5eqm9kk7dc0","created":1730859875246,"text":"Y"},"children":[{"data":{"id":"d5eqmhjdisg0","created":1730859892589,"text":"标记是_blockMoveAction，执行pointerdown","expandState":"expand"},"children":[{"data":{"id":"d5eqopd8wa00","created":1730860066361,"text":"。。。"},"children":[]}]}]},{"data":{"id":"d5eqmb1k6ow0","created":1730859878451,"text":"N","resource":["Done"],"expandState":"expand"},"children":[{"data":{"id":"d5eqmhjdisg0","created":1730859892589,"text":"标记是_blockMousedownAction，执行pointerdown","expandState":"expand"},"children":[{"data":{"id":"d5eqod56v3c0","created":1730860039752,"text":"1. 记录当前按下的块，抛到业务层"},"children":[]},{"data":{"id":"d5dv4arjvuo0","created":1730771012884,"text":"2. 业务层","layout":null,"expandState":"expand"},"children":[{"data":{"id":"d5eqxax6lfc0","created":1730860740192,"text":"显示PlanInfoComp","expandState":"expand"},"children":[]},{"data":{"id":"d5eqttjjhn40","created":1730860467269,"text":"处理当前计划的关联关系","expandState":"expand"},"children":[]},{"data":{"id":"d5equfebsp40","created":1730860514843,"text":"触发 Schedule.renderPlanConnection，绘制关系连线"},"children":[]}]}]}]}]}]}]}]}]},{"data":{"id":"d5e0m9xm2880","created":1730786527178,"text":"没有命中结果","layout":null},"children":[{"data":{"id":"d5dv3nqf78o0","created":1730770962749,"text":"按着Ctrl","layout":null,"expandState":"expand"},"children":[{"data":{"id":"d5evfr39vqg0","created":1730873470383,"text":"1. 执行_blankMousedownAction 的pointerdown"},"children":[{"data":{"id":"d5eqod56v3c0","created":1730860039752,"text":"1. 抛到业务层"},"children":[]},{"data":{"id":"d5e1ewriv6w0","created":1730788771072,"text":"2. 业务层","layout":null},"children":[{"data":{"id":"d5er4gjwe880","created":1730861300999,"text":"隐藏PlanInfoComp","layout_right_offset":{"x":8.749999992888206,"y":-8.749999992887922}},"children":[]}]}]},{"data":{"id":"d5evr7zuvu80","created":1730874369188,"text":"2. 更新当前选中状态（没有命中结果）"},"children":[]},{"data":{"id":"d5ewd4g2rjc0","created":1730876085473,"text":"3. 清空上次选中块的计划关系连线map"},"children":[]},{"data":{"id":"d5e0w0dk5oo0","created":1730787290016,"text":"4. 画布重绘，清空辅助线层的内容","layout":null},"children":[]},{"data":{"id":"d5e1pft34eg0","created":1730789596167,"text":"5. 标记是_manySelectAction，执行pointerdown","layout":null},"children":[]}]},{"data":{"id":"d5dv3ahvfw00","created":1730770933934,"text":"没按Ctrl","resource":["Done"],"layout":null,"expandState":"collapse"},"children":[{"data":{"id":"d5eq4nedrb40","created":1730858494793,"text":"1. 标记是_blankMousedownAction，执行pointerdown","expandState":"expand"},"children":[{"data":{"id":"d5eqod56v3c0","created":1730860039752,"text":"1. 抛到业务层"},"children":[]},{"data":{"id":"d5e1ewriv6w0","created":1730788771072,"text":"2. 业务层","layout":null},"children":[{"data":{"id":"d5er4gjwe880","created":1730861300999,"text":"隐藏PlanInfoComp","layout_right_offset":{"x":8.749999992888206,"y":-8.749999992887922}},"children":[]}]}]},{"data":{"id":"d5e1fx78oxc0","created":1730788850387,"text":"不需要resetState、setSelectedBlocks、画布重绘，保留此前的绘图状态","color":"#ff0000","layout":null},"children":[]}]}]}]},{"data":{"id":"d5duvj5dle00","created":1730770325856,"text":"pointermove","layout":null,"expandState":"expand"},"children":[{"data":{"id":"d5erjcxzpeg0","created":1730862468606,"text":"_pointerAction是否有值"},"children":[{"data":{"id":"d5erjpyy7680","created":1730862496962,"text":"Y","expandState":"expand"},"children":[{"data":{"id":"d5erk3hfql40","created":1730862526378,"text":"_blockMoveAction"},"children":[]},{"data":{"id":"d5erk92bk540","created":1730862538525,"text":"_manySelectAction","expandState":"expand","resource":["Done"]},"children":[{"data":{"id":"d5eq7cxoce80","created":1730858707107,"text":"1.执行pointermove"},"children":[{"data":{"id":"d5ermnmxlvs0","created":1730862726974,"text":"1. 更新框选选区信息和样式"},"children":[]},{"data":{"id":"d5eq7l1na1k0","created":1730858724761,"text":"2. 是否需要实时绘制选中块的边框"},"children":[{"data":{"id":"d5ewhyf7pow0","created":1730876464181,"text":"Y：实时更新选中块的信息"},"children":[]}]}]},{"data":{"id":"d5ewibvaeb40","created":1730876493451,"text":"2. 画布重绘，需要清除辅助线"},"children":[]}]},{"data":{"id":"d5eq68ney7k0","created":1730858619415,"text":"_blankMousedownAction","resource":["Done"]},"children":[{"data":{"id":"d5eq6fal88o0","created":1730858633877,"text":"切换成_viewportMoveAction，执行pointermove"},"children":[]}]},{"data":{"id":"d5eq7aozbmw0","created":1730858702228,"text":"_viewportMoveAction","resource":["Done"]},"children":[{"data":{"id":"d5eq7cxoce80","created":1730858707107,"text":"执行pointermove"},"children":[{"data":{"id":"d5ermnmxlvs0","created":1730862726974,"text":"1. 改变光标样式"},"children":[]},{"data":{"id":"d5eq7l1na1k0","created":1730858724761,"text":"2. 移动视口"},"children":[]}]}]}]},{"data":{"id":"d5erjqydchc0","created":1730862499104,"text":"N"},"children":[]}]}]},{"data":{"id":"d5epytxl2000","created":1730858038829,"text":"pointerup"},"children":[{"data":{"id":"d5eqpj4m9fc0","created":1730860131142,"text":"_blockMoveAction"},"children":[]},{"data":{"id":"d5eqpnsc3qw0","created":1730860141284,"text":"_manySelectAction","resource":["Done"]},"children":[{"data":{"id":"d5ewmw9lhvs0","created":1730876851309,"text":"1. 执行pointerup","expandState":"expand"},"children":[{"data":{"id":"d5ewk0l681k0","created":1730876625623,"text":"1. 更新选中块的信息，抛出到业务层的onBlockSelected"},"children":[]},{"data":{"id":"d5ewkby15xk0","created":1730876650345,"text":"2. 重置框选选区信息和样式"},"children":[]}]},{"data":{"id":"d5ewibvaeb40","created":1730876493451,"text":"2. 画布重绘，需要清除辅助线"},"children":[]},{"data":{"id":"d5ewntnpy4w0","created":1730876923996,"text":"3. 清除行为标记"},"children":[]}]},{"data":{"id":"d5erbtwwgc80","created":1730861878632,"text":"_viewportMoveAction","resource":["Done"],"expandState":"expand"},"children":[{"data":{"id":"d5ercznd0kg0","created":1730861969480,"text":"1. 执行pointerup，恢复光标样式"},"children":[]},{"data":{"id":"d5eqpyspxuo0","created":1730860165252,"text":"2. 清除行为标记"},"children":[]},{"data":{"id":"d5e1fx78oxc0","created":1730788850387,"text":"不需要resetState、setSelectedBlocks、画布重绘，保留此前的绘图状态","color":"#ff0000","layout":null},"children":[]}]},{"data":{"id":"d5eqptebytk0","created":1730860153498,"text":"_blockMousedownAction","resource":["Done"],"expandState":"expand"},"children":[{"data":{"id":"d5eqpyspxuo0","created":1730860165252,"text":"清除行为标记"},"children":[]},{"data":{"id":"d5e1fx78oxc0","created":1730788850387,"text":"不需要resetState、setSelectedBlocks、画布重绘，保留此前的绘图状态","color":"#ff0000","layout":null},"children":[]}]}]},{"data":{"id":"d5epytuhve00","created":1730858038643,"text":"pointerout"},"children":[{"data":{"id":"d5ev4ujaxb40","created":1730872615877,"text":"_blockMousedownAction","expandState":"expand"},"children":[{"data":{"id":"d5ev4x09eew0","created":1730872621256,"text":"清除行为标记"},"children":[]},{"data":{"id":"d5ev58358wg0","created":1730872645375,"text":"触发时机：点击块时，信息浮窗覆盖在块的上面","color":"#ff0000"},"children":[]}]}]},{"data":{"id":"d5duwfrw7q80","created":1730770396875,"text":"","expandState":"collapse","layout":null},"children":[{"data":{"id":"d5duvt1erhc0","created":1730770347384,"text":"onBlockDragStart","progress":null,"expandState":"expand","resource":["计划拖放"],"layout":null},"children":[]},{"data":{"id":"d5duvz3wji00","created":1730770360596,"text":"onBlockDraging","progress":null,"expandState":"expand","resource":["计划拖放"],"layout":null},"children":[]},{"data":{"id":"d5duw1f0t340","created":1730770365622,"text":"onBlockDragStop","progress":null,"expandState":"expand","resource":["计划拖放"],"layout":null},"children":[]}]}]}]},{"data":{"id":"d5duzvy73q80","created":1730770667177,"text":"DisplayConfigComp","layout":null},"children":[]},{"data":{"id":"d5ansjhz8iw0","created":1730445663886,"text":"PlanInfoComp","layout_mind_offset":{"x":352,"y":138},"layout":null,"expandState":"expand"},"children":[{"data":{"id":"d5dv0n174340","created":1730770726132,"text":"在DisplayConfigComp 配置字段","layout":null},"children":[]}]},{"data":{"id":"d5antydbm000","created":1730445774621,"text":"Toolbar（待设计）","layout":null,"expandState":"expand"},"children":[]},{"data":{"id":"d5antydbm000","created":1730445774621,"text":"ContextMenu（待设计）","layout":null,"expandState":"expand"},"children":[]}]},"template":"right","theme":"fresh-blue","version":"1.4.43"}